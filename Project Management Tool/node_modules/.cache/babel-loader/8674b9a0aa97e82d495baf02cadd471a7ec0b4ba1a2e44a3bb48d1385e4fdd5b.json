{"ast":null,"code":"var _jsxFileName = \"/home/suleman/Downloads/project-management-system-react-javascript-main/src/pages/create/Create.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { timestamp } from \"../../firebase/config\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport \"./Create.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst categories = [{\n  value: \"development\",\n  label: \"Development\"\n}, {\n  value: \"design\",\n  label: \"Design\"\n}, {\n  value: \"sales\",\n  label: \"Sales\"\n}, {\n  value: \"marketing\",\n  label: \"Marketing\"\n}];\nexport default function Create() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    addDocument,\n    response\n  } = useFirestore(\"projects\");\n  const {\n    documents\n  } = useCollection(\"users\");\n  const [users, setUsers] = useState([]);\n  const {\n    user\n  } = useAuthContext();\n  const [name, setName] = useState(\"\");\n  const [details, setDetails] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n  useEffect(() => {\n    if (documents) {\n      const options = documents.map(user => {\n        return {\n          value: user,\n          label: user.displayName\n        };\n      });\n      setUsers(options);\n    }\n  }, [documents]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!category) {\n      setFormError(\"you have to choose category\");\n      return;\n    }\n    if (assignedUsers.length < 1) {\n      setFormError(\"you have to assign users\");\n      return;\n    }\n    setFormError(null);\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid\n    };\n    const assignedUsersList = assignedUsers.map(user => {\n      return {\n        displayName: user.value.displayName,\n        photoURL: user.value.photoURL,\n        id: user.value.id\n      };\n    });\n    const project = {\n      name,\n      details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      comments: [],\n      createdBy,\n      assignedUsersList,\n      tasks: []\n    };\n    await addDocument(project);\n    if (!response.error) {\n      navigate(\"/\");\n    }\n  };\n  console.log(response);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-form pages-margin\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page-title\",\n      children: \"Create new project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Project Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          required: true,\n          onChange: e => setName(e.target.value),\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Project Details:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          required: true,\n          onChange: e => setDetails(e.target.value),\n          value: details\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Due date::\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          required: true,\n          onChange: e => setDueDate(e.target.value),\n          value: dueDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Project category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          options: categories,\n          onChange: option => setCategory(option)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Assign to:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          options: users,\n          onChange: option => setAssignedUsers(option),\n          isMulti: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        children: \"Add project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: formError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s(Create, \"Wa/v9OhJyVvvAkD7HwI8jAzas/I=\", false, function () {\n  return [useNavigate, useFirestore, useCollection, useAuthContext];\n});\n_c = Create;\nvar _c;\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"names":["useState","useEffect","Select","useCollection","timestamp","useAuthContext","useFirestore","useNavigate","jsxDEV","_jsxDEV","categories","value","label","Create","_s","navigate","addDocument","response","documents","users","setUsers","user","name","setName","details","setDetails","dueDate","setDueDate","category","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","options","map","displayName","handleSubmit","e","preventDefault","length","createdBy","photoURL","id","uid","assignedUsersList","project","fromDate","Date","comments","tasks","error","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","required","onChange","target","option","isMulti","_c","$RefreshReg$"],"sources":["/home/suleman/Downloads/project-management-system-react-javascript-main/src/pages/create/Create.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { timestamp } from \"../../firebase/config\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport \"./Create.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst categories = [\n  { value: \"development\", label: \"Development\" },\n  { value: \"design\", label: \"Design\" },\n  { value: \"sales\", label: \"Sales\" },\n  { value: \"marketing\", label: \"Marketing\" },\n];\nexport default function Create() {\n  const navigate = useNavigate();\n  const { addDocument, response } = useFirestore(\"projects\");\n  const { documents } = useCollection(\"users\");\n  const [users, setUsers] = useState([]);\n\n  const { user } = useAuthContext();\n\n  const [name, setName] = useState(\"\");\n  const [details, setDetails] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n\n  useEffect(() => {\n    if (documents) {\n      const options = documents.map((user) => {\n        return { value: user, label: user.displayName };\n      });\n      setUsers(options);\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!category) {\n      setFormError(\"you have to choose category\");\n      return;\n    }\n\n    if (assignedUsers.length < 1) {\n      setFormError(\"you have to assign users\");\n      return;\n    }\n\n    setFormError(null);\n\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid,\n    };\n\n    const assignedUsersList = assignedUsers.map((user) => {\n      return {\n        displayName: user.value.displayName,\n        photoURL: user.value.photoURL,\n        id: user.value.id,\n      };\n    });\n\n    const project = {\n      name,\n      details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      comments: [],\n      createdBy,\n      assignedUsersList,\n      tasks: [],\n    };\n\n    await addDocument(project);\n    if (!response.error) {\n      navigate(\"/\");\n    }\n  };\n\n  console.log(response);\n\n  return (\n    <div className=\"create-form pages-margin\">\n      <h2 className=\"page-title\">Create new project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project Name:</span>\n          <input\n            type=\"text\"\n            required\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          ></input>\n        </label>\n        <label>\n          <span>Project Details:</span>\n          <textarea\n            type=\"text\"\n            required\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n\n        <label>\n          <span>Due date::</span>\n          <input\n            type=\"date\"\n            required\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          ></input>\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select\n            options={categories}\n            onChange={(option) => setCategory(option)}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            options={users}\n            onChange={(option) => setAssignedUsers(option)}\n            isMulti\n          />\n        </label>\n\n        <button className=\"btn\">Add project</button>\n        {formError && <p className=\"error\">{formError}</p>}\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}